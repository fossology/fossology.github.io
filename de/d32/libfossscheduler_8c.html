<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FOSSology: src/lib/c/libfossscheduler.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../fossology-logo.gif"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FOSSology
   &#160;<span id="projectnumber">4.6.0</span>
   </div>
   <div id="projectbrief">Open Source License Compliance by Open Source Software</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('de/d32/libfossscheduler_8c.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">libfossscheduler.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Scheduler API for agents.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;libfossscheduler.h&quot;</code><br />
<code>#include &quot;libfossdb.h&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/df8/fossconfig_8h_source.html">fossconfig.h</a>&quot;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;getopt.h&gt;</code><br />
<code>#include &lt;libgen.h&gt;</code><br />
<code>#include &lt;glib.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for libfossscheduler.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d5c/libfossscheduler_8c__incl.png" border="0" usemap="#asrc_2lib_2c_2libfossscheduler_8c" alt=""/></div>
<map name="asrc_2lib_2c_2libfossscheduler_8c" id="asrc_2lib_2c_2libfossscheduler_8c">
<area shape="rect" title="Scheduler API for agents." alt="" coords="708,5,900,32"/>
<area shape="rect" href="../../dc/d81/libfossscheduler_8h_source.html" title=" " alt="" coords="506,80,645,107"/>
<area shape="rect" href="../../dc/df8/fossconfig_8h.html" title="FOSSology library to read config file." alt="" coords="24,155,124,181"/>
<area shape="rect" title=" " alt="" coords="45,229,104,256"/>
<area shape="rect" title=" " alt="" coords="916,155,982,181"/>
<area shape="rect" href="../../d2/d5f/libfossdb_8h_source.html" title=" " alt="" coords="757,80,850,107"/>
<area shape="rect" title=" " alt="" coords="926,80,1002,107"/>
<area shape="rect" title=" " alt="" coords="1026,80,1101,107"/>
<area shape="rect" href="../../d4/d4c/libfossdbmanager_8h_source.html" title=" " alt="" coords="148,155,299,181"/>
<area shape="rect" title=" " alt="" coords="496,229,580,256"/>
<area shape="rect" title=" " alt="" coords="323,155,396,181"/>
<area shape="rect" title=" " alt="" coords="576,155,647,181"/>
<area shape="rect" title=" " alt="" coords="671,155,742,181"/>
<area shape="rect" title=" " alt="" coords="421,155,501,181"/>
<area shape="rect" title=" " alt="" coords="766,155,841,181"/>
<area shape="rect" title=" " alt="" coords="186,229,261,256"/>
<area shape="rect" title=" " alt="" coords="1007,155,1075,181"/>
<area shape="rect" title=" " alt="" coords="1099,155,1170,181"/>
</map>
</div>
</div>
<p><a href="../../de/d32/libfossscheduler_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0fde72e5cc040b535cac81a64e3265d5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d32/libfossscheduler_8c.html#a0fde72e5cc040b535cac81a64e3265d5">fo_heartbeat</a> ()</td></tr>
<tr class="memdesc:a0fde72e5cc040b535cac81a64e3265d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal function to send a heartbeat to the scheduler along with the number of items processed.  <a href="../../de/d32/libfossscheduler_8c.html#a0fde72e5cc040b535cac81a64e3265d5">More...</a><br /></td></tr>
<tr class="separator:a0fde72e5cc040b535cac81a64e3265d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac493b3efae5251c477a14070003072b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d32/libfossscheduler_8c.html#ac493b3efae5251c477a14070003072b5">fo_check_agentdb</a> (PGconn *<a class="el" href="../../d1/d04/snippet__scan_8h.html#a7561cdd5e958d206caacc5436e10d0be">db_conn</a>)</td></tr>
<tr class="memdesc:ac493b3efae5251c477a14070003072b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks that the agent is already in the agent table.  <a href="../../de/d32/libfossscheduler_8c.html#ac493b3efae5251c477a14070003072b5">More...</a><br /></td></tr>
<tr class="separator:ac493b3efae5251c477a14070003072b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08ef13f3d2603f356d750e48f64391c1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d32/libfossscheduler_8c.html#a08ef13f3d2603f356d750e48f64391c1">fo_scheduler_heart</a> (int i)</td></tr>
<tr class="memdesc:a08ef13f3d2603f356d750e48f64391c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function must be called by agents to let the scheduler know they are alive and how many items they have processed.  <a href="../../de/d32/libfossscheduler_8c.html#a08ef13f3d2603f356d750e48f64391c1">More...</a><br /></td></tr>
<tr class="separator:a08ef13f3d2603f356d750e48f64391c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf994d427bd63ce757df075805acba96"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d32/libfossscheduler_8c.html#abf994d427bd63ce757df075805acba96">fo_scheduler_connect_conf</a> (int *argc, char **argv, PGconn **<a class="el" href="../../d1/d04/snippet__scan_8h.html#a7561cdd5e958d206caacc5436e10d0be">db_conn</a>, char **db_conf)</td></tr>
<tr class="memdesc:abf994d427bd63ce757df075805acba96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Establish a connection between an agent and the scheduler.  <a href="../../de/d32/libfossscheduler_8c.html#abf994d427bd63ce757df075805acba96">More...</a><br /></td></tr>
<tr class="separator:abf994d427bd63ce757df075805acba96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ca24d76f53fef2900d2e01e951b163e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d32/libfossscheduler_8c.html#a9ca24d76f53fef2900d2e01e951b163e">fo_scheduler_connect</a> (int *argc, char **argv, PGconn **<a class="el" href="../../d1/d04/snippet__scan_8h.html#a7561cdd5e958d206caacc5436e10d0be">db_conn</a>)</td></tr>
<tr class="memdesc:a9ca24d76f53fef2900d2e01e951b163e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Establish a connection between an agent and the scheduler.  <a href="../../de/d32/libfossscheduler_8c.html#a9ca24d76f53fef2900d2e01e951b163e">More...</a><br /></td></tr>
<tr class="separator:a9ca24d76f53fef2900d2e01e951b163e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50c8e56e77b27d70dcb057449dec62f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d32/libfossscheduler_8c.html#a50c8e56e77b27d70dcb057449dec62f1">fo_scheduler_connect_dbMan</a> (int *argc, char **argv, <a class="el" href="../../d0/de7/structfo__dbManager.html">fo_dbManager</a> **<a class="el" href="../../da/d32/mimetype_2agent__tests_2Unit_2testRun_8c.html#a58f81024cfbdb0a8b80798dbd5b202e2">dbManager</a>)</td></tr>
<tr class="memdesc:a50c8e56e77b27d70dcb057449dec62f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make a connection from an agent to the scheduler and create a DB manager as well.  <a href="../../de/d32/libfossscheduler_8c.html#a50c8e56e77b27d70dcb057449dec62f1">More...</a><br /></td></tr>
<tr class="separator:a50c8e56e77b27d70dcb057449dec62f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a027af6ae185a04e23206b53e45eea906"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d32/libfossscheduler_8c.html#a027af6ae185a04e23206b53e45eea906">fo_scheduler_disconnect</a> (int retcode)</td></tr>
<tr class="memdesc:a027af6ae185a04e23206b53e45eea906"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnect the scheduler connection.  <a href="../../de/d32/libfossscheduler_8c.html#a027af6ae185a04e23206b53e45eea906">More...</a><br /></td></tr>
<tr class="separator:a027af6ae185a04e23206b53e45eea906"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a924ca6e02c2bda5adadb81b14331f78e"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d32/libfossscheduler_8c.html#a924ca6e02c2bda5adadb81b14331f78e">fo_scheduler_next</a> ()</td></tr>
<tr class="memdesc:a924ca6e02c2bda5adadb81b14331f78e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the next data to process from the scheduler.  <a href="../../de/d32/libfossscheduler_8c.html#a924ca6e02c2bda5adadb81b14331f78e">More...</a><br /></td></tr>
<tr class="separator:a924ca6e02c2bda5adadb81b14331f78e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84472870e6d3d4dbc2fff252e58758c6"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d32/libfossscheduler_8c.html#a84472870e6d3d4dbc2fff252e58758c6">fo_scheduler_current</a> ()</td></tr>
<tr class="memdesc:a84472870e6d3d4dbc2fff252e58758c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the last read string from the scheduler.  <a href="../../de/d32/libfossscheduler_8c.html#a84472870e6d3d4dbc2fff252e58758c6">More...</a><br /></td></tr>
<tr class="separator:a84472870e6d3d4dbc2fff252e58758c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21b9be21d7535441d09ab0aef5fb89b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d32/libfossscheduler_8c.html#a21b9be21d7535441d09ab0aef5fb89b5">fo_scheduler_set_special</a> (int option, int value)</td></tr>
<tr class="memdesc:a21b9be21d7535441d09ab0aef5fb89b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets something special about the agent within the scheduler.  <a href="../../de/d32/libfossscheduler_8c.html#a21b9be21d7535441d09ab0aef5fb89b5">More...</a><br /></td></tr>
<tr class="separator:a21b9be21d7535441d09ab0aef5fb89b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a474b58f0fbf471b123c9fe7554d43081"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d32/libfossscheduler_8c.html#a474b58f0fbf471b123c9fe7554d43081">fo_scheduler_get_special</a> (int option)</td></tr>
<tr class="memdesc:a474b58f0fbf471b123c9fe7554d43081"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets if a particular special attribute is set in the scheduler.  <a href="../../de/d32/libfossscheduler_8c.html#a474b58f0fbf471b123c9fe7554d43081">More...</a><br /></td></tr>
<tr class="separator:a474b58f0fbf471b123c9fe7554d43081"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cd8a6b753808f08205ab5e05a14f9f4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d32/libfossscheduler_8c.html#a8cd8a6b753808f08205ab5e05a14f9f4">fo_scheduler_jobId</a> ()</td></tr>
<tr class="memdesc:a8cd8a6b753808f08205ab5e05a14f9f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the id of the job that the agent is running.  <a href="../../de/d32/libfossscheduler_8c.html#a8cd8a6b753808f08205ab5e05a14f9f4">More...</a><br /></td></tr>
<tr class="separator:a8cd8a6b753808f08205ab5e05a14f9f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dce115e43b8ba31bb503d2396fe0a81"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d32/libfossscheduler_8c.html#a7dce115e43b8ba31bb503d2396fe0a81">fo_scheduler_userID</a> ()</td></tr>
<tr class="memdesc:a7dce115e43b8ba31bb503d2396fe0a81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the id of the user that created the job that the agent is running.  <a href="../../de/d32/libfossscheduler_8c.html#a7dce115e43b8ba31bb503d2396fe0a81">More...</a><br /></td></tr>
<tr class="separator:a7dce115e43b8ba31bb503d2396fe0a81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa818b1130ad179f3ef5be2261bd8716"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d32/libfossscheduler_8c.html#aaa818b1130ad179f3ef5be2261bd8716">fo_scheduler_groupID</a> ()</td></tr>
<tr class="memdesc:aaa818b1130ad179f3ef5be2261bd8716"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the id of the group that created the job that the agent is running.  <a href="../../de/d32/libfossscheduler_8c.html#aaa818b1130ad179f3ef5be2261bd8716">More...</a><br /></td></tr>
<tr class="separator:aaa818b1130ad179f3ef5be2261bd8716"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28e4f75930b41835ef84a047682e9b60"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d32/libfossscheduler_8c.html#a28e4f75930b41835ef84a047682e9b60">fo_sysconfig</a> (const char *sectionname, const char *variablename)</td></tr>
<tr class="memdesc:a28e4f75930b41835ef84a047682e9b60"><td class="mdescLeft">&#160;</td><td class="mdescRight">gets a system configuration variable from the configuration data.  <a href="../../de/d32/libfossscheduler_8c.html#a28e4f75930b41835ef84a047682e9b60">More...</a><br /></td></tr>
<tr class="separator:a28e4f75930b41835ef84a047682e9b60"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a19fb1047805421993a981a51aa97e5ad"><td class="memItemLeft" align="right" valign="top"><a id="a19fb1047805421993a981a51aa97e5ad"></a>
volatile gint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d32/libfossscheduler_8c.html#a19fb1047805421993a981a51aa97e5ad">items_processed</a></td></tr>
<tr class="memdesc:a19fb1047805421993a981a51aa97e5ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of items processed by the agent. <br /></td></tr>
<tr class="separator:a19fb1047805421993a981a51aa97e5ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18e091b5f4674820b521708e49a8bb56"><td class="memItemLeft" align="right" valign="top"><a id="a18e091b5f4674820b521708e49a8bb56"></a>
volatile int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d32/libfossscheduler_8c.html#a18e091b5f4674820b521708e49a8bb56">alive</a></td></tr>
<tr class="memdesc:a18e091b5f4674820b521708e49a8bb56"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the agent has updated with a hearbeat. <br /></td></tr>
<tr class="separator:a18e091b5f4674820b521708e49a8bb56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb7f82088634acfbf98dfd7fdc8e27bc"><td class="memItemLeft" align="right" valign="top"><a id="aeb7f82088634acfbf98dfd7fdc8e27bc"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d32/libfossscheduler_8c.html#aeb7f82088634acfbf98dfd7fdc8e27bc">buffer</a> [2048]</td></tr>
<tr class="memdesc:aeb7f82088634acfbf98dfd7fdc8e27bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">The last thing received from the scheduler. <br /></td></tr>
<tr class="separator:aeb7f82088634acfbf98dfd7fdc8e27bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac63b1f168765a53e565a8ba27f5469d1"><td class="memItemLeft" align="right" valign="top"><a id="ac63b1f168765a53e565a8ba27f5469d1"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d32/libfossscheduler_8c.html#ac63b1f168765a53e565a8ba27f5469d1">valid</a></td></tr>
<tr class="memdesc:ac63b1f168765a53e565a8ba27f5469d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the information stored in buffer is valid. <br /></td></tr>
<tr class="separator:ac63b1f168765a53e565a8ba27f5469d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaccad180411e4497d7784e03d171c26c"><td class="memItemLeft" align="right" valign="top"><a id="aaccad180411e4497d7784e03d171c26c"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d32/libfossscheduler_8c.html#aaccad180411e4497d7784e03d171c26c">sscheduler</a></td></tr>
<tr class="memdesc:aaccad180411e4497d7784e03d171c26c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the agent was started by the scheduler. <br /></td></tr>
<tr class="separator:aaccad180411e4497d7784e03d171c26c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abea63f3849eac19ddbb789da6978cb60"><td class="memItemLeft" align="right" valign="top"><a id="abea63f3849eac19ddbb789da6978cb60"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d32/libfossscheduler_8c.html#abea63f3849eac19ddbb789da6978cb60">userID</a></td></tr>
<tr class="memdesc:abea63f3849eac19ddbb789da6978cb60"><td class="mdescLeft">&#160;</td><td class="mdescRight">The id of the user that created the job. <br /></td></tr>
<tr class="separator:abea63f3849eac19ddbb789da6978cb60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0faf27666324d237d67722b9fe517a69"><td class="memItemLeft" align="right" valign="top"><a id="a0faf27666324d237d67722b9fe517a69"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d32/libfossscheduler_8c.html#a0faf27666324d237d67722b9fe517a69">groupID</a></td></tr>
<tr class="memdesc:a0faf27666324d237d67722b9fe517a69"><td class="mdescLeft">&#160;</td><td class="mdescRight">The id of the group of the user that created the job. <br /></td></tr>
<tr class="separator:a0faf27666324d237d67722b9fe517a69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a314fdbd38dd45cce0beef41fd90f436e"><td class="memItemLeft" align="right" valign="top"><a id="a314fdbd38dd45cce0beef41fd90f436e"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d32/libfossscheduler_8c.html#a314fdbd38dd45cce0beef41fd90f436e">jobId</a></td></tr>
<tr class="memdesc:a314fdbd38dd45cce0beef41fd90f436e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The id of the job. <br /></td></tr>
<tr class="separator:a314fdbd38dd45cce0beef41fd90f436e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67afd8cf4e033925cc6fb22f17b5ca01"><td class="memItemLeft" align="right" valign="top"><a id="a67afd8cf4e033925cc6fb22f17b5ca01"></a>
char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d32/libfossscheduler_8c.html#a67afd8cf4e033925cc6fb22f17b5ca01">module_name</a> = NULL</td></tr>
<tr class="memdesc:a67afd8cf4e033925cc6fb22f17b5ca01"><td class="mdescLeft">&#160;</td><td class="mdescRight">The name of the agent. <br /></td></tr>
<tr class="separator:a67afd8cf4e033925cc6fb22f17b5ca01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e01d93072b11484f793164e77d12145"><td class="memItemLeft" align="right" valign="top"><a id="a9e01d93072b11484f793164e77d12145"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>should_connect_to_db</b> = 1</td></tr>
<tr class="separator:a9e01d93072b11484f793164e77d12145"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8218a9538e4e15e621885523dbeca71c"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d32/libfossscheduler_8c.html#a8218a9538e4e15e621885523dbeca71c">sql_check</a></td></tr>
<tr class="memdesc:a8218a9538e4e15e621885523dbeca71c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default: connect to DB unless explicitly disabled.  <a href="../../de/d32/libfossscheduler_8c.html#a8218a9538e4e15e621885523dbeca71c">More...</a><br /></td></tr>
<tr class="separator:a8218a9538e4e15e621885523dbeca71c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ac5b6dbac212d44a831ff5be68f29d3"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d32/libfossscheduler_8c.html#a4ac5b6dbac212d44a831ff5be68f29d3">sql_insert</a></td></tr>
<tr class="separator:a4ac5b6dbac212d44a831ff5be68f29d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1248714a5108d80adc9ff2635b3e7cd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d1b/structfo__conf.html">fo_conf</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d32/libfossscheduler_8c.html#ab1248714a5108d80adc9ff2635b3e7cd">sysconfig</a> = NULL</td></tr>
<tr class="separator:ab1248714a5108d80adc9ff2635b3e7cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79938da52ea3b7f929cd2ae34fe7ef5e"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d32/libfossscheduler_8c.html#a79938da52ea3b7f929cd2ae34fe7ef5e">sysconfigdir</a> = NULL</td></tr>
<tr class="separator:a79938da52ea3b7f929cd2ae34fe7ef5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8631c788a900eade8bfeacb3dcf146ac"><td class="memItemLeft" align="right" valign="top"><a id="a8631c788a900eade8bfeacb3dcf146ac"></a>
GRegex *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d32/libfossscheduler_8c.html#a8631c788a900eade8bfeacb3dcf146ac">fo_conf_parse</a></td></tr>
<tr class="memdesc:a8631c788a900eade8bfeacb3dcf146ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Regex for parsing. <br /></td></tr>
<tr class="separator:a8631c788a900eade8bfeacb3dcf146ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab65b4f46c194373f428d7aa15f8bddbf"><td class="memItemLeft" align="right" valign="top"><a id="ab65b4f46c194373f428d7aa15f8bddbf"></a>
GRegex *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d32/libfossscheduler_8c.html#ab65b4f46c194373f428d7aa15f8bddbf">fo_conf_replace</a></td></tr>
<tr class="memdesc:ab65b4f46c194373f428d7aa15f8bddbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Regex for replace. <br /></td></tr>
<tr class="separator:ab65b4f46c194373f428d7aa15f8bddbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46348c504924c954069b9563e6ff8d7a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d32/libfossscheduler_8c.html#a46348c504924c954069b9563e6ff8d7a">agent_verbose</a></td></tr>
<tr class="memdesc:a46348c504924c954069b9563e6ff8d7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Common verbose flags for the agents, this is used so that the scheduler can change the verbose level for a particular agent. All agents should use this flag for verbose instead of one declared within the agent. This can be set by the scheduler to enable different levels of verbose.  <a href="../../de/d32/libfossscheduler_8c.html#a46348c504924c954069b9563e6ff8d7a">More...</a><br /></td></tr>
<tr class="separator:a46348c504924c954069b9563e6ff8d7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Scheduler API for agents. </p>

<p class="definition">Definition in file <a class="el" href="../../de/d32/libfossscheduler_8c_source.html">libfossscheduler.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ac493b3efae5251c477a14070003072b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac493b3efae5251c477a14070003072b5">&#9670;&nbsp;</a></span>fo_check_agentdb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fo_check_agentdb </td>
          <td>(</td>
          <td class="paramtype">PGconn *&#160;</td>
          <td class="paramname"><em>db_conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks that the agent is already in the agent table. </p>
<p>This uses the VERSION and COMMIT_HASH in the system configuration information to determine if a new agent record needs to be created for this agent in the database. </p>

<p class="definition">Definition at line <a class="el" href="../../de/d32/libfossscheduler_8c_source.html#l00094">94</a> of file <a class="el" href="../../de/d32/libfossscheduler_8c_source.html">libfossscheduler.c</a>.</p>

</div>
</div>
<a id="a0fde72e5cc040b535cac81a64e3265d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fde72e5cc040b535cac81a64e3265d5">&#9670;&nbsp;</a></span>fo_heartbeat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fo_heartbeat </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Internal function to send a heartbeat to the scheduler along with the number of items processed. </p>
<dl class="section note"><dt>Note</dt><dd>Agents should NOT call this function directly. </dd>
<dd>
This is the alarm SIGALRM function. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000017">Todo:</a></b></dt><dd>These functions are not safe for a signal handler </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d32/libfossscheduler_8c_source.html#l00076">76</a> of file <a class="el" href="../../de/d32/libfossscheduler_8c_source.html">libfossscheduler.c</a>.</p>

</div>
</div>
<a id="a9ca24d76f53fef2900d2e01e951b163e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ca24d76f53fef2900d2e01e951b163e">&#9670;&nbsp;</a></span>fo_scheduler_connect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fo_scheduler_connect </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PGconn **&#160;</td>
          <td class="paramname"><em>db_conn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Establish a connection between an agent and the scheduler. </p>
<p>Steps taken by this function:</p><ul>
<li>initialize memory associated with agent connection</li>
<li>send "SPAWNED" to the scheduler</li>
<li>receive the number of items between notifications</li>
<li>check the nfs mounts for the agent</li>
<li>set up the heartbeat()</li>
</ul>
<p>Making a call to this function should be the first thing that an agent does after parsing its command line arguments.</p>
<p>If the database connection passed is NULL, then this will not return a database connection, and will not check the agent's database record.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>pointer to the number of arguments passed to the agent </td></tr>
    <tr><td class="paramname">argv</td><td>the command line arguments for the agent </td></tr>
    <tr><td class="paramname">db_conn</td><td>pointer to the location for the database connection </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d32/libfossscheduler_8c_source.html#l00320">320</a> of file <a class="el" href="../../de/d32/libfossscheduler_8c_source.html">libfossscheduler.c</a>.</p>

</div>
</div>
<a id="abf994d427bd63ce757df075805acba96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf994d427bd63ce757df075805acba96">&#9670;&nbsp;</a></span>fo_scheduler_connect_conf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fo_scheduler_connect_conf </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PGconn **&#160;</td>
          <td class="paramname"><em>db_conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>db_conf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Establish a connection between an agent and the scheduler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">argc</td><td>Command line agrument count </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">argv</td><td>Command line agrument vector </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">db_conn</td><td>DB Connection </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">db_conf</td><td>DB conf file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/d32/libfossscheduler_8c.html#a9ca24d76f53fef2900d2e01e951b163e" title="Establish a connection between an agent and the scheduler.">fo_scheduler_connect()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d32/libfossscheduler_8c_source.html#l00170">170</a> of file <a class="el" href="../../de/d32/libfossscheduler_8c_source.html">libfossscheduler.c</a>.</p>

</div>
</div>
<a id="a50c8e56e77b27d70dcb057449dec62f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50c8e56e77b27d70dcb057449dec62f1">&#9670;&nbsp;</a></span>fo_scheduler_connect_dbMan()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fo_scheduler_connect_dbMan </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/de7/structfo__dbManager.html">fo_dbManager</a> **&#160;</td>
          <td class="paramname"><em>dbManager</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Make a connection from an agent to the scheduler and create a DB manager as well. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">dbManager</td><td>New DB manager </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d32/libfossscheduler_8c_source.html#l00330">330</a> of file <a class="el" href="../../de/d32/libfossscheduler_8c_source.html">libfossscheduler.c</a>.</p>

</div>
</div>
<a id="a84472870e6d3d4dbc2fff252e58758c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84472870e6d3d4dbc2fff252e58758c6">&#9670;&nbsp;</a></span>fo_scheduler_current()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* fo_scheduler_current </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the last read string from the scheduler. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns the string buffer if it is valid. If it is not valid, return NULL. The buffer is not valid if the last received data from the scheduler was a command, rather than data to operate on. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d32/libfossscheduler_8c_source.html#l00459">459</a> of file <a class="el" href="../../de/d32/libfossscheduler_8c_source.html">libfossscheduler.c</a>.</p>

</div>
</div>
<a id="a027af6ae185a04e23206b53e45eea906"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a027af6ae185a04e23206b53e45eea906">&#9670;&nbsp;</a></span>fo_scheduler_disconnect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fo_scheduler_disconnect </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>retcode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disconnect the scheduler connection. </p>
<p>Making a call to this function should be the last thing that an agent does before exiting. Any error reporting to stdout or stderr will not work after this function has finished execution. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">retcode</td><td>Return code to the scheduler </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d32/libfossscheduler_8c_source.html#l00347">347</a> of file <a class="el" href="../../de/d32/libfossscheduler_8c_source.html">libfossscheduler.c</a>.</p>

</div>
</div>
<a id="a474b58f0fbf471b123c9fe7554d43081"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a474b58f0fbf471b123c9fe7554d43081">&#9670;&nbsp;</a></span>fo_scheduler_get_special()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fo_scheduler_get_special </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>option</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets if a particular special attribute is set in the scheduler. </p>
<p>Possible Options:</p><ul>
<li><code>SPECIAL_NOKILL</code> : the agent will not be killed if it stops updating status</li>
<li><code>SPECIAL_EXCLUSIVE</code>: the agent cannot run simultaneously with any other agent</li>
<li><code>SPECIAL_NOEMAIL</code> : the scheduler will not send notification emails for this agent</li>
<li><code>SPECIAL_LOCAL</code> : the agent is required to run on the same machine as the scheduler</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">option</td><td>the relevant option to the get the value of </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>if the value of the special option was true </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d32/libfossscheduler_8c_source.html#l00491">491</a> of file <a class="el" href="../../de/d32/libfossscheduler_8c_source.html">libfossscheduler.c</a>.</p>

</div>
</div>
<a id="aaa818b1130ad179f3ef5be2261bd8716"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa818b1130ad179f3ef5be2261bd8716">&#9670;&nbsp;</a></span>fo_scheduler_groupID()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fo_scheduler_groupID </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the id of the group that created the job that the agent is running. </p>
<dl class="section return"><dt>Returns</dt><dd>the group id </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d32/libfossscheduler_8c_source.html#l00528">528</a> of file <a class="el" href="../../de/d32/libfossscheduler_8c_source.html">libfossscheduler.c</a>.</p>

</div>
</div>
<a id="a08ef13f3d2603f356d750e48f64391c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08ef13f3d2603f356d750e48f64391c1">&#9670;&nbsp;</a></span>fo_scheduler_heart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fo_scheduler_heart </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function must be called by agents to let the scheduler know they are alive and how many items they have processed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>This is the number of itmes processed since the last call to <a class="el" href="../../de/d32/libfossscheduler_8c.html#a08ef13f3d2603f356d750e48f64391c1" title="This function must be called by agents to let the scheduler know they are alive and how many items th...">fo_scheduler_heart()</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d32/libfossscheduler_8c_source.html#l00153">153</a> of file <a class="el" href="../../de/d32/libfossscheduler_8c_source.html">libfossscheduler.c</a>.</p>

</div>
</div>
<a id="a8cd8a6b753808f08205ab5e05a14f9f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cd8a6b753808f08205ab5e05a14f9f4">&#9670;&nbsp;</a></span>fo_scheduler_jobId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fo_scheduler_jobId </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the id of the job that the agent is running. </p>
<dl class="section return"><dt>Returns</dt><dd>the job id </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d32/libfossscheduler_8c_source.html#l00508">508</a> of file <a class="el" href="../../de/d32/libfossscheduler_8c_source.html">libfossscheduler.c</a>.</p>

</div>
</div>
<a id="a924ca6e02c2bda5adadb81b14331f78e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a924ca6e02c2bda5adadb81b14331f78e">&#9670;&nbsp;</a></span>fo_scheduler_next()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* fo_scheduler_next </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the next data to process from the scheduler. </p>
<p>It is the job of the agent to decide how this string is interpreted.</p>
<p>Steps taken by this function:</p><ul>
<li>get the next line from the scheduler<ul>
<li>if the scheduler has paused this agent this will block till unpaused</li>
</ul>
</li>
<li>check for "CLOSE" from scheduler, return NULL if received</li>
<li>check for "VERBOSE" from scheduler<ul>
<li>if this is received turn the verbose flag to whatever is specified</li>
<li>a new line must be received, perform same task (i.e. recursive call)</li>
</ul>
</li>
<li>check for "END" from scheduler, if received print OK and recurse<ul>
<li>this is used to simplify communications within the scheduler</li>
</ul>
</li>
<li>return whatever has been received</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>char* for the next thing to analyze, NULL if there is nothing left in this job, in which case the agent should close </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d32/libfossscheduler_8c_source.html#l00401">401</a> of file <a class="el" href="../../de/d32/libfossscheduler_8c_source.html">libfossscheduler.c</a>.</p>

</div>
</div>
<a id="a21b9be21d7535441d09ab0aef5fb89b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21b9be21d7535441d09ab0aef5fb89b5">&#9670;&nbsp;</a></span>fo_scheduler_set_special()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fo_scheduler_set_special </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>option</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets something special about the agent within the scheduler. </p>
<p>Possible Options: <code>SPECIAL_NOKILL</code>: instruct the scheduler to not kill the agent</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">option</td><td>the option to set </td></tr>
    <tr><td class="paramname">value</td><td>whether to set the option to true or false </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d32/libfossscheduler_8c_source.html#l00473">473</a> of file <a class="el" href="../../de/d32/libfossscheduler_8c_source.html">libfossscheduler.c</a>.</p>

</div>
</div>
<a id="a7dce115e43b8ba31bb503d2396fe0a81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dce115e43b8ba31bb503d2396fe0a81">&#9670;&nbsp;</a></span>fo_scheduler_userID()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fo_scheduler_userID </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the id of the user that created the job that the agent is running. </p>
<dl class="section return"><dt>Returns</dt><dd>the user id </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d32/libfossscheduler_8c_source.html#l00518">518</a> of file <a class="el" href="../../de/d32/libfossscheduler_8c_source.html">libfossscheduler.c</a>.</p>

</div>
</div>
<a id="a28e4f75930b41835ef84a047682e9b60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28e4f75930b41835ef84a047682e9b60">&#9670;&nbsp;</a></span>fo_sysconfig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* fo_sysconfig </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sectionname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>variablename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>gets a system configuration variable from the configuration data. </p>
<p>This function should be called after fo_scheduler_connect has been called. This is because the configuration data it not loaded until after that.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sectionname</td><td>the group of the variable </td></tr>
    <tr><td class="paramname">variablename</td><td>the name of the variable </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the value of the variable </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d32/libfossscheduler_8c_source.html#l00543">543</a> of file <a class="el" href="../../de/d32/libfossscheduler_8c_source.html">libfossscheduler.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a46348c504924c954069b9563e6ff8d7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46348c504924c954069b9563e6ff8d7a">&#9670;&nbsp;</a></span>agent_verbose</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int agent_verbose</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Common verbose flags for the agents, this is used so that the scheduler can change the verbose level for a particular agent. All agents should use this flag for verbose instead of one declared within the agent. This can be set by the scheduler to enable different levels of verbose. </p>
<p>Global verbose flags that agents should use instead of specific verbose flags. This is used by the scheduler to turn verbose on a particular agent on during run time. When the verbose flag is turned on by the scheduler the on_verbose function will be called. If nothing needs to be done when verbose is turned on, simply pass NULL to scheduler_connect </p>

<p class="definition">Definition at line <a class="el" href="../../de/d32/libfossscheduler_8c_source.html#l00065">65</a> of file <a class="el" href="../../de/d32/libfossscheduler_8c_source.html">libfossscheduler.c</a>.</p>

</div>
</div>
<a id="a8218a9538e4e15e621885523dbeca71c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8218a9538e4e15e621885523dbeca71c">&#9670;&nbsp;</a></span>sql_check</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* sql_check</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <span class="stringliteral">&quot;\</span></div>
<div class="line"><span class="stringliteral">  SELECT * FROM agent \</span></div>
<div class="line"><span class="stringliteral">    WHERE agent_name = &#39;%s&#39; AND agent_rev=&#39;%s.%s&#39;&quot;</span></div>
</div><!-- fragment -->
<p>Default: connect to DB unless explicitly disabled. </p>
<p>Check for an agent in DB </p>

<p class="definition">Definition at line <a class="el" href="../../de/d32/libfossscheduler_8c_source.html#l00040">40</a> of file <a class="el" href="../../de/d32/libfossscheduler_8c_source.html">libfossscheduler.c</a>.</p>

</div>
</div>
<a id="a4ac5b6dbac212d44a831ff5be68f29d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ac5b6dbac212d44a831ff5be68f29d3">&#9670;&nbsp;</a></span>sql_insert</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* sql_insert</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <span class="stringliteral">&quot;\</span></div>
<div class="line"><span class="stringliteral">  INSERT INTO agent (agent_name, agent_rev, agent_desc) \</span></div>
<div class="line"><span class="stringliteral">    VALUES (&#39;%s&#39;, &#39;%s.%s&#39;, &#39;%s&#39;)&quot;</span></div>
</div><!-- fragment --><p>Insert new agent in DB </p>

<p class="definition">Definition at line <a class="el" href="../../de/d32/libfossscheduler_8c_source.html#l00045">45</a> of file <a class="el" href="../../de/d32/libfossscheduler_8c_source.html">libfossscheduler.c</a>.</p>

</div>
</div>
<a id="ab1248714a5108d80adc9ff2635b3e7cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1248714a5108d80adc9ff2635b3e7cd">&#9670;&nbsp;</a></span>sysconfig</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d1b/structfo__conf.html">fo_conf</a>* sysconfig = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>System configuration settings </p>

<p class="definition">Definition at line <a class="el" href="../../de/d32/libfossscheduler_8c_source.html#l00050">50</a> of file <a class="el" href="../../de/d32/libfossscheduler_8c_source.html">libfossscheduler.c</a>.</p>

</div>
</div>
<a id="a79938da52ea3b7f929cd2ae34fe7ef5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79938da52ea3b7f929cd2ae34fe7ef5e">&#9670;&nbsp;</a></span>sysconfigdir</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* sysconfigdir = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>System configuration directory </p>

<p class="definition">Definition at line <a class="el" href="../../de/d32/libfossscheduler_8c_source.html#l00052">52</a> of file <a class="el" href="../../de/d32/libfossscheduler_8c_source.html">libfossscheduler.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_c85d3e3c5052e9ad9ce18c6863244a25.html">lib</a></li><li class="navelem"><a class="el" href="../../dir_d402d1f562af9f1e0306dced295da586.html">c</a></li><li class="navelem"><a class="el" href="../../de/d32/libfossscheduler_8c.html">libfossscheduler.c</a></li>
    <li class="footer">Generated on Fri Feb 20 2026 09:25:16 for FOSSology by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
