<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FOSSology: src/nomos/agent/standalone.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../fossology-logo.gif"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FOSSology
   &#160;<span id="projectnumber">4.6.0-rc1</span>
   </div>
   <div id="projectbrief">Open Source License Compliance by Open Source Software</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('dc/d9c/nomos_2agent_2standalone_8c.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">standalone.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Dummy implementations of library functions for stand-alone operations.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;standalone.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for standalone.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d33/nomos_2agent_2standalone_8c__incl.png" border="0" usemap="#asrc_2nomos_2agent_2standalone_8c" alt=""/></div>
<map name="asrc_2nomos_2agent_2standalone_8c" id="asrc_2nomos_2agent_2standalone_8c">
<area shape="rect" title="Dummy implementations of library functions for stand&#45;alone operations." alt="" coords="5,5,223,32"/>
<area shape="rect" href="../../d1/df5/nomos_2agent_2standalone_8h_source.html" title=" " alt="" coords="61,80,167,107"/>
<area shape="rect" title=" " alt="" coords="28,155,99,181"/>
<area shape="rect" title=" " alt="" coords="123,155,206,181"/>
</map>
</div>
</div>
<p><a href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a08ef13f3d2603f356d750e48f64391c1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c.html#a08ef13f3d2603f356d750e48f64391c1">fo_scheduler_heart</a> (int i)</td></tr>
<tr class="memdesc:a08ef13f3d2603f356d750e48f64391c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function must be called by agents to let the scheduler know they are alive and how many items they have processed.  <a href="../../dc/d9c/nomos_2agent_2standalone_8c.html#a08ef13f3d2603f356d750e48f64391c1">More...</a><br /></td></tr>
<tr class="separator:a08ef13f3d2603f356d750e48f64391c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ca24d76f53fef2900d2e01e951b163e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c.html#a9ca24d76f53fef2900d2e01e951b163e">fo_scheduler_connect</a> (int *argc, char **argv, PGconn **<a class="el" href="../../d1/d04/snippet__scan_8h.html#a7561cdd5e958d206caacc5436e10d0be">db_conn</a>)</td></tr>
<tr class="memdesc:a9ca24d76f53fef2900d2e01e951b163e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Establish a connection between an agent and the scheduler.  <a href="../../dc/d9c/nomos_2agent_2standalone_8c.html#a9ca24d76f53fef2900d2e01e951b163e">More...</a><br /></td></tr>
<tr class="separator:a9ca24d76f53fef2900d2e01e951b163e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a027af6ae185a04e23206b53e45eea906"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c.html#a027af6ae185a04e23206b53e45eea906">fo_scheduler_disconnect</a> (int retcode)</td></tr>
<tr class="memdesc:a027af6ae185a04e23206b53e45eea906"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnect the scheduler connection.  <a href="../../dc/d9c/nomos_2agent_2standalone_8c.html#a027af6ae185a04e23206b53e45eea906">More...</a><br /></td></tr>
<tr class="separator:a027af6ae185a04e23206b53e45eea906"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a924ca6e02c2bda5adadb81b14331f78e"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c.html#a924ca6e02c2bda5adadb81b14331f78e">fo_scheduler_next</a> ()</td></tr>
<tr class="memdesc:a924ca6e02c2bda5adadb81b14331f78e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the next data to process from the scheduler.  <a href="../../dc/d9c/nomos_2agent_2standalone_8c.html#a924ca6e02c2bda5adadb81b14331f78e">More...</a><br /></td></tr>
<tr class="separator:a924ca6e02c2bda5adadb81b14331f78e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84472870e6d3d4dbc2fff252e58758c6"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c.html#a84472870e6d3d4dbc2fff252e58758c6">fo_scheduler_current</a> ()</td></tr>
<tr class="memdesc:a84472870e6d3d4dbc2fff252e58758c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the last read string from the scheduler.  <a href="../../dc/d9c/nomos_2agent_2standalone_8c.html#a84472870e6d3d4dbc2fff252e58758c6">More...</a><br /></td></tr>
<tr class="separator:a84472870e6d3d4dbc2fff252e58758c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dce115e43b8ba31bb503d2396fe0a81"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c.html#a7dce115e43b8ba31bb503d2396fe0a81">fo_scheduler_userID</a> ()</td></tr>
<tr class="memdesc:a7dce115e43b8ba31bb503d2396fe0a81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the id of the user that created the job that the agent is running.  <a href="../../dc/d9c/nomos_2agent_2standalone_8c.html#a7dce115e43b8ba31bb503d2396fe0a81">More...</a><br /></td></tr>
<tr class="separator:a7dce115e43b8ba31bb503d2396fe0a81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21b9be21d7535441d09ab0aef5fb89b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c.html#a21b9be21d7535441d09ab0aef5fb89b5">fo_scheduler_set_special</a> (int option, int value)</td></tr>
<tr class="memdesc:a21b9be21d7535441d09ab0aef5fb89b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets something special about the agent within the scheduler.  <a href="../../dc/d9c/nomos_2agent_2standalone_8c.html#a21b9be21d7535441d09ab0aef5fb89b5">More...</a><br /></td></tr>
<tr class="separator:a21b9be21d7535441d09ab0aef5fb89b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a474b58f0fbf471b123c9fe7554d43081"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c.html#a474b58f0fbf471b123c9fe7554d43081">fo_scheduler_get_special</a> (int option)</td></tr>
<tr class="memdesc:a474b58f0fbf471b123c9fe7554d43081"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets if a particular special attribute is set in the scheduler.  <a href="../../dc/d9c/nomos_2agent_2standalone_8c.html#a474b58f0fbf471b123c9fe7554d43081">More...</a><br /></td></tr>
<tr class="separator:a474b58f0fbf471b123c9fe7554d43081"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28e4f75930b41835ef84a047682e9b60"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c.html#a28e4f75930b41835ef84a047682e9b60">fo_sysconfig</a> (const char *sectionname, const char *variablename)</td></tr>
<tr class="memdesc:a28e4f75930b41835ef84a047682e9b60"><td class="mdescLeft">&#160;</td><td class="mdescRight">gets a system configuration variable from the configuration data.  <a href="../../dc/d9c/nomos_2agent_2standalone_8c.html#a28e4f75930b41835ef84a047682e9b60">More...</a><br /></td></tr>
<tr class="separator:a28e4f75930b41835ef84a047682e9b60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a751121476fb5034bc1e5ae0f31da67cc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c.html#a751121476fb5034bc1e5ae0f31da67cc">fo_GetAgentKey</a> (PGconn *<a class="el" href="../../df/d14/wget__agent_8c.html#a7444694163584e990af192a7b4f9dddc">pgConn</a>, const char *agent_name, long unused, const char *cpunused, const char *agent_desc)</td></tr>
<tr class="memdesc:a751121476fb5034bc1e5ae0f31da67cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the latest enabled agent key (agent_pk) from the database.  <a href="../../dc/d9c/nomos_2agent_2standalone_8c.html#a751121476fb5034bc1e5ae0f31da67cc">More...</a><br /></td></tr>
<tr class="separator:a751121476fb5034bc1e5ae0f31da67cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a413e71b8411ff5ceb47083a881c6f0e4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c.html#a413e71b8411ff5ceb47083a881c6f0e4">fo_WriteARS</a> (PGconn *<a class="el" href="../../df/d14/wget__agent_8c.html#a7444694163584e990af192a7b4f9dddc">pgConn</a>, int ars_pk, int <a class="el" href="../../d0/df8/sqlstatements_8h.html#a1525ecb9626336b2dfc164b8f0b59740">upload_pk</a>, int <a class="el" href="../../de/d9e/agent_8h.html#ae478f131e7b74ee2b32e986dca3c1b53">agent_pk</a>, const char *tableName, const char *ars_status, int ars_success)</td></tr>
<tr class="memdesc:a413e71b8411ff5ceb47083a881c6f0e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write ars record.  <a href="../../dc/d9c/nomos_2agent_2standalone_8c.html#a413e71b8411ff5ceb47083a881c6f0e4">More...</a><br /></td></tr>
<tr class="separator:a413e71b8411ff5ceb47083a881c6f0e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f352d470896d8c4cc8cd2a3fc03e176"><td class="memItemLeft" align="right" valign="top">PGconn *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c.html#a2f352d470896d8c4cc8cd2a3fc03e176">fo_dbconnect</a> (char *<a class="el" href="../../d2/de9/test__DBInsert_8c.html#a73f992d03a36cb2da7d0032e0d2832ba">DBConfFile</a>, char **ErrorBuf)</td></tr>
<tr class="memdesc:a2f352d470896d8c4cc8cd2a3fc03e176"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect to a database. The default is Db.conf.  <a href="../../dc/d9c/nomos_2agent_2standalone_8c.html#a2f352d470896d8c4cc8cd2a3fc03e176">More...</a><br /></td></tr>
<tr class="separator:a2f352d470896d8c4cc8cd2a3fc03e176"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96f242ea3b1154edba2105ac8b0943d2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c.html#a96f242ea3b1154edba2105ac8b0943d2">fo_checkPQcommand</a> (PGconn *<a class="el" href="../../df/d14/wget__agent_8c.html#a7444694163584e990af192a7b4f9dddc">pgConn</a>, PGresult *result, char *sql, char *FileID, int LineNumb)</td></tr>
<tr class="memdesc:a96f242ea3b1154edba2105ac8b0943d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check the result status of a postgres commands (not select) If an error occured, write the error to stdout.  <a href="../../dc/d9c/nomos_2agent_2standalone_8c.html#a96f242ea3b1154edba2105ac8b0943d2">More...</a><br /></td></tr>
<tr class="separator:a96f242ea3b1154edba2105ac8b0943d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a438acf56cee347de51d91e1afe2de97d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c.html#a438acf56cee347de51d91e1afe2de97d">fo_checkPQresult</a> (PGconn *<a class="el" href="../../df/d14/wget__agent_8c.html#a7444694163584e990af192a7b4f9dddc">pgConn</a>, PGresult *result, char *sql, char *FileID, int LineNumb)</td></tr>
<tr class="memdesc:a438acf56cee347de51d91e1afe2de97d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check the result status of a postgres SELECT.  <a href="../../dc/d9c/nomos_2agent_2standalone_8c.html#a438acf56cee347de51d91e1afe2de97d">More...</a><br /></td></tr>
<tr class="separator:a438acf56cee347de51d91e1afe2de97d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ca4c2bd4fd5dda094104e218f6a5385"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c.html#a8ca4c2bd4fd5dda094104e218f6a5385">fo_tableExists</a> (PGconn *<a class="el" href="../../df/d14/wget__agent_8c.html#a7444694163584e990af192a7b4f9dddc">pgConn</a>, const char *tableName)</td></tr>
<tr class="memdesc:a8ca4c2bd4fd5dda094104e218f6a5385"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if table exists. Note, this assumes the database name is 'fossology'.  <a href="../../dc/d9c/nomos_2agent_2standalone_8c.html#a8ca4c2bd4fd5dda094104e218f6a5385">More...</a><br /></td></tr>
<tr class="separator:a8ca4c2bd4fd5dda094104e218f6a5385"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc01ce06f02d6440b01e21c9a221dee5"><td class="memItemLeft" align="right" valign="top"><a id="acc01ce06f02d6440b01e21c9a221dee5"></a>
char *&#160;</td><td class="memItemRight" valign="bottom"><b>fo_RepMkPath</b> (char *Type, char *<a class="el" href="../../d3/d69/ununpack_2agent__tests_2Unit_2run__tests_8c.html#a8f91fce8713dd601ee00a5fcef69c9c7">Filename</a>)</td></tr>
<tr class="separator:acc01ce06f02d6440b01e21c9a221dee5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7c95c3ec301878f657c5667c154fe54"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c.html#ab7c95c3ec301878f657c5667c154fe54">GetUploadPerm</a> (PGconn *<a class="el" href="../../df/d14/wget__agent_8c.html#a7444694163584e990af192a7b4f9dddc">pgConn</a>, long UploadPk, int user_pk)</td></tr>
<tr class="memdesc:ab7c95c3ec301878f657c5667c154fe54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get users permission to this upload.  <a href="../../dc/d9c/nomos_2agent_2standalone_8c.html#ab7c95c3ec301878f657c5667c154fe54">More...</a><br /></td></tr>
<tr class="separator:ab7c95c3ec301878f657c5667c154fe54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad88d9f79efc453fc9905bae5af886c00"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/de7/structfo__dbManager.html">fo_dbManager</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c.html#ad88d9f79efc453fc9905bae5af886c00">fo_dbManager_new</a> (PGconn *dbConnection)</td></tr>
<tr class="memdesc:ad88d9f79efc453fc9905bae5af886c00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create and initialize new <a class="el" href="../../d0/de7/structfo__dbManager.html">fo_dbManager</a> object.  <a href="../../dc/d9c/nomos_2agent_2standalone_8c.html#ad88d9f79efc453fc9905bae5af886c00">More...</a><br /></td></tr>
<tr class="separator:ad88d9f79efc453fc9905bae5af886c00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af465eb5edad568ffcdefb01e3e95a65b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c.html#af465eb5edad568ffcdefb01e3e95a65b">fo_dbManager_free</a> (<a class="el" href="../../d0/de7/structfo__dbManager.html">fo_dbManager</a> *<a class="el" href="../../da/d32/mimetype_2agent__tests_2Unit_2testRun_8c.html#a58f81024cfbdb0a8b80798dbd5b202e2">dbManager</a>)</td></tr>
<tr class="memdesc:af465eb5edad568ffcdefb01e3e95a65b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Un-allocate the memory from a DB manager.  <a href="../../dc/d9c/nomos_2agent_2standalone_8c.html#af465eb5edad568ffcdefb01e3e95a65b">More...</a><br /></td></tr>
<tr class="separator:af465eb5edad568ffcdefb01e3e95a65b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fa60e13e5a25b9a934a5856df598068"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d2a/structfo__dbManager__PreparedStatement.html">fo_dbManager_PreparedStatement</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c.html#a0fa60e13e5a25b9a934a5856df598068">fo_dbManager_PrepareStamement_str</a> (<a class="el" href="../../d0/de7/structfo__dbManager.html">fo_dbManager</a> *<a class="el" href="../../da/d32/mimetype_2agent__tests_2Unit_2testRun_8c.html#a58f81024cfbdb0a8b80798dbd5b202e2">dbManager</a>, const char *name, const char *query, const char *paramtypes)</td></tr>
<tr class="memdesc:a0fa60e13e5a25b9a934a5856df598068"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a prepared statement.  <a href="../../dc/d9c/nomos_2agent_2standalone_8c.html#a0fa60e13e5a25b9a934a5856df598068">More...</a><br /></td></tr>
<tr class="separator:a0fa60e13e5a25b9a934a5856df598068"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34d1c5cabbcbb027b77188d5ed5e1532"><td class="memItemLeft" align="right" valign="top">PGresult *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c.html#a34d1c5cabbcbb027b77188d5ed5e1532">fo_dbManager_ExecPrepared</a> (<a class="el" href="../../d9/d2a/structfo__dbManager__PreparedStatement.html">fo_dbManager_PreparedStatement</a> *preparedStatement,...)</td></tr>
<tr class="memdesc:a34d1c5cabbcbb027b77188d5ed5e1532"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute a prepared statement.  <a href="../../dc/d9c/nomos_2agent_2standalone_8c.html#a34d1c5cabbcbb027b77188d5ed5e1532">More...</a><br /></td></tr>
<tr class="separator:a34d1c5cabbcbb027b77188d5ed5e1532"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd1e8c632ba9a7211526fe7d042dd161"><td class="memItemLeft" align="right" valign="top">PGresult *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c.html#afd1e8c632ba9a7211526fe7d042dd161">getSelectedPFiles</a> (PGconn *<a class="el" href="../../df/d14/wget__agent_8c.html#a7444694163584e990af192a7b4f9dddc">pgConn</a>, int uploadPk, int agentPk, bool ignoreFilesWithMimeType)</td></tr>
<tr class="memdesc:afd1e8c632ba9a7211526fe7d042dd161"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the upload_pk, agent_pk and ignoreFilesWithMimeType to get all the file Ids for nomos.  <a href="../../dc/d9c/nomos_2agent_2standalone_8c.html#afd1e8c632ba9a7211526fe7d042dd161">More...</a><br /></td></tr>
<tr class="separator:afd1e8c632ba9a7211526fe7d042dd161"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e1d62234994962077a811cba29250d5"><td class="memItemLeft" align="right" valign="top">PGresult *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c.html#a6e1d62234994962077a811cba29250d5">checkDuplicateReq</a> (PGconn *<a class="el" href="../../df/d14/wget__agent_8c.html#a7444694163584e990af192a7b4f9dddc">pgConn</a>, int uploadPk, int agentPk)</td></tr>
<tr class="memdesc:a6e1d62234994962077a811cba29250d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the upload_pk and agent_pk to find out the agent has already scanned the package.  <a href="../../dc/d9c/nomos_2agent_2standalone_8c.html#a6e1d62234994962077a811cba29250d5">More...</a><br /></td></tr>
<tr class="separator:a6e1d62234994962077a811cba29250d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5713f20c5f938ba7354580d787a5a1f"><td class="memItemLeft" align="right" valign="top"><a id="ae5713f20c5f938ba7354580d787a5a1f"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>PQresultStatus</b> (const PGresult *res)</td></tr>
<tr class="separator:ae5713f20c5f938ba7354580d787a5a1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a641689155fc34bf174f507fe58599cfa"><td class="memItemLeft" align="right" valign="top"><a id="a641689155fc34bf174f507fe58599cfa"></a>
char *&#160;</td><td class="memItemRight" valign="bottom"><b>PQresultErrorMessage</b> (const PGresult *res)</td></tr>
<tr class="separator:a641689155fc34bf174f507fe58599cfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3c499a67bd50f9c7f681cb44c8999ab"><td class="memItemLeft" align="right" valign="top"><a id="ad3c499a67bd50f9c7f681cb44c8999ab"></a>
char *&#160;</td><td class="memItemRight" valign="bottom"><b>PQresultErrorField</b> (const PGresult *res, int fieldcode)</td></tr>
<tr class="separator:ad3c499a67bd50f9c7f681cb44c8999ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a761d70188f438ba36f7f7ace338d980f"><td class="memItemLeft" align="right" valign="top"><a id="a761d70188f438ba36f7f7ace338d980f"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>PQntuples</b> (const PGresult *res)</td></tr>
<tr class="separator:a761d70188f438ba36f7f7ace338d980f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9150a9bcbc6edcfa37713b5d8c4a0d43"><td class="memItemLeft" align="right" valign="top"><a id="a9150a9bcbc6edcfa37713b5d8c4a0d43"></a>
PGresult *&#160;</td><td class="memItemRight" valign="bottom"><b>PQexec</b> (PGconn *conn, const char *query)</td></tr>
<tr class="separator:a9150a9bcbc6edcfa37713b5d8c4a0d43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61593f04042922a36357a188d5a7b266"><td class="memItemLeft" align="right" valign="top"><a id="a61593f04042922a36357a188d5a7b266"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>PQclear</b> (PGresult *res)</td></tr>
<tr class="separator:a61593f04042922a36357a188d5a7b266"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c76fa263ead0f0c869968a99bec438f"><td class="memItemLeft" align="right" valign="top"><a id="a9c76fa263ead0f0c869968a99bec438f"></a>
char *&#160;</td><td class="memItemRight" valign="bottom"><b>PQgetvalue</b> (const PGresult *res, int tup_num, int field_num)</td></tr>
<tr class="separator:a9c76fa263ead0f0c869968a99bec438f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49711dfcd5768795d5e8f9257448e8cc"><td class="memItemLeft" align="right" valign="top"><a id="a49711dfcd5768795d5e8f9257448e8cc"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>PQescapeStringConn</b> (PGconn *conn, char *to, const char *from, size_t length, int *error)</td></tr>
<tr class="separator:a49711dfcd5768795d5e8f9257448e8cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8fae02323a1e58aae6e055a9388a4c2"><td class="memItemLeft" align="right" valign="top"><a id="aa8fae02323a1e58aae6e055a9388a4c2"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>PQfinish</b> (PGconn *conn)</td></tr>
<tr class="separator:aa8fae02323a1e58aae6e055a9388a4c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a8b2e13c78efca330f06b6ddcd7464b41"><td class="memItemLeft" align="right" valign="top"><a id="a8b2e13c78efca330f06b6ddcd7464b41"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>result</b> = 0</td></tr>
<tr class="separator:a8b2e13c78efca330f06b6ddcd7464b41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e01d93072b11484f793164e77d12145"><td class="memItemLeft" align="right" valign="top"><a id="a9e01d93072b11484f793164e77d12145"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>should_connect_to_db</b> = 0</td></tr>
<tr class="separator:a9e01d93072b11484f793164e77d12145"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Dummy implementations of library functions for stand-alone operations. </p>

<p class="definition">Definition in file <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html">standalone.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a6e1d62234994962077a811cba29250d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e1d62234994962077a811cba29250d5">&#9670;&nbsp;</a></span>checkDuplicateReq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PGresult* checkDuplicateReq </td>
          <td>(</td>
          <td class="paramtype">PGconn *&#160;</td>
          <td class="paramname"><em>pgConn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>uploadPk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>agentPk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the upload_pk and agent_pk to find out the agent has already scanned the package. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pgConn</td><td>Database connection object pointer. </td></tr>
    <tr><td class="paramname">upload_pk</td><td>Upload ID </td></tr>
    <tr><td class="paramname">agent_pk</td><td>agentPk</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>result, ars_pk if the agent has already scanned the package. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Caller must free the (non-null) returned value. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html#l00040">40</a> of file <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html">standalone.c</a>.</p>

</div>
</div>
<a id="a96f242ea3b1154edba2105ac8b0943d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96f242ea3b1154edba2105ac8b0943d2">&#9670;&nbsp;</a></span>fo_checkPQcommand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fo_checkPQcommand </td>
          <td>(</td>
          <td class="paramtype">PGconn *&#160;</td>
          <td class="paramname"><em>pgConn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PGresult *&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>sql</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>FileID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>LineNumb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check the result status of a postgres commands (not select) If an error occured, write the error to stdout. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pgConn</td><td>Database connection object </td></tr>
    <tr><td class="paramname">result</td><td>Postgres result object </td></tr>
    <tr><td class="paramname">sql</td><td>the sql query </td></tr>
    <tr><td class="paramname">FileID</td><td>is a file identifier string to write into the error message. Typically the caller will use <b>FILE</b>, but any identifier string is ok. </td></tr>
    <tr><td class="paramname">LineNumb</td><td>the line number of the caller (<b>LINE</b>)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on OK, -1 on failure. On failure, result will be freed. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html#l00028">28</a> of file <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html">standalone.c</a>.</p>

</div>
</div>
<a id="a438acf56cee347de51d91e1afe2de97d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a438acf56cee347de51d91e1afe2de97d">&#9670;&nbsp;</a></span>fo_checkPQresult()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fo_checkPQresult </td>
          <td>(</td>
          <td class="paramtype">PGconn *&#160;</td>
          <td class="paramname"><em>pgConn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PGresult *&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>sql</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>FileID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>LineNumb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check the result status of a postgres SELECT. </p>
<p>If an error occured, write the error to stdout</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pgConn</td><td>Database connection object </td></tr>
    <tr><td class="paramname">result</td><td>Postgres result object </td></tr>
    <tr><td class="paramname">sql</td><td>the sql query </td></tr>
    <tr><td class="paramname">FileID</td><td>is a file identifier string to write into the error message. Typically the caller will use <b>FILE</b>, but any identifier string is ok. </td></tr>
    <tr><td class="paramname">LineNumb</td><td>the line number of the caller (<b>LINE</b>)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on OK, -1 on failure. On failure, result will be freed. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html#l00029">29</a> of file <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html">standalone.c</a>.</p>

</div>
</div>
<a id="a2f352d470896d8c4cc8cd2a3fc03e176"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f352d470896d8c4cc8cd2a3fc03e176">&#9670;&nbsp;</a></span>fo_dbconnect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PGconn* fo_dbconnect </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>DBConfFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>ErrorBuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connect to a database. The default is Db.conf. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">DBConfFile</td><td><a class="el" href="../../d6/d88/structFile.html">File</a> path of the Db.conf file to use. If NULL, use the default Db.conf </td></tr>
    <tr><td class="paramname">ErrorBuf</td><td>Address of pointer to error buffer. fo_dbconnect will allocate this if needed. The caller should free it.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PGconn*, or NULL on failure to process the config file. If NULL, ErrorBuff will contain the error message. If NULL is returned and ErrorBuf is NULL, then there was insufficient memory to allocate ErrorBuf. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html#l00027">27</a> of file <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html">standalone.c</a>.</p>

</div>
</div>
<a id="a34d1c5cabbcbb027b77188d5ed5e1532"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34d1c5cabbcbb027b77188d5ed5e1532">&#9670;&nbsp;</a></span>fo_dbManager_ExecPrepared()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PGresult* fo_dbManager_ExecPrepared </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d2a/structfo__dbManager__PreparedStatement.html">fo_dbManager_PreparedStatement</a> *&#160;</td>
          <td class="paramname"><em>preparedStatement</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execute a prepared statement. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">preparedStatement</td><td>Prepared statement </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Result on success; NULL otherwise </dd></dl>
<dl class="section see"><dt>See also</dt><dd>fo_dbManager_ExecPreparedv() </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html#l00037">37</a> of file <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html">standalone.c</a>.</p>

</div>
</div>
<a id="af465eb5edad568ffcdefb01e3e95a65b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af465eb5edad568ffcdefb01e3e95a65b">&#9670;&nbsp;</a></span>fo_dbManager_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fo_dbManager_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/de7/structfo__dbManager.html">fo_dbManager</a> *&#160;</td>
          <td class="paramname"><em>dbManager</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Un-allocate the memory from a DB manager. </p>
<p>The function applies following actions on the manager before calling free</p><ol type="1">
<li>Unref the cached table</li>
<li>Free the DB conf file location</li>
<li>Close the log file FP <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dbManager</td><td>The DB manager to be free-ed </td></tr>
  </table>
  </dd>
</dl>
</li>
</ol>

<p class="definition">Definition at line <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html#l00035">35</a> of file <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html">standalone.c</a>.</p>

</div>
</div>
<a id="ad88d9f79efc453fc9905bae5af886c00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad88d9f79efc453fc9905bae5af886c00">&#9670;&nbsp;</a></span>fo_dbManager_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/de7/structfo__dbManager.html">fo_dbManager</a>* fo_dbManager_new </td>
          <td>(</td>
          <td class="paramtype">PGconn *&#160;</td>
          <td class="paramname"><em>dbConnection</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create and initialize new <a class="el" href="../../d0/de7/structfo__dbManager.html">fo_dbManager</a> object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dbConnection</td><td>DB connection object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>New DB manager object </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html#l00034">34</a> of file <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html">standalone.c</a>.</p>

</div>
</div>
<a id="a0fa60e13e5a25b9a934a5856df598068"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fa60e13e5a25b9a934a5856df598068">&#9670;&nbsp;</a></span>fo_dbManager_PrepareStamement_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d2a/structfo__dbManager__PreparedStatement.html">fo_dbManager_PreparedStatement</a>* fo_dbManager_PrepareStamement_str </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/de7/structfo__dbManager.html">fo_dbManager</a> *&#160;</td>
          <td class="paramname"><em>dbManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>paramtypes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a prepared statement. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dbManager</td><td>DB manager to use </td></tr>
    <tr><td class="paramname">name</td><td>Name of the prepared statement </td></tr>
    <tr><td class="paramname">query</td><td>Query to be perpared </td></tr>
    <tr><td class="paramname">paramtypes</td><td>CSV list of parameter types </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Prepared statement on success;<br  />
NULL otherwise; </dd></dl>
<dl class="section see"><dt>See also</dt><dd>parseParamStr() </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html#l00036">36</a> of file <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html">standalone.c</a>.</p>

</div>
</div>
<a id="a751121476fb5034bc1e5ae0f31da67cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a751121476fb5034bc1e5ae0f31da67cc">&#9670;&nbsp;</a></span>fo_GetAgentKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fo_GetAgentKey </td>
          <td>(</td>
          <td class="paramtype">PGconn *&#160;</td>
          <td class="paramname"><em>pgConn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>agent_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>unused</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cpunused</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>agent_desc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the latest enabled agent key (agent_pk) from the database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pgConn</td><td>Database connection object pointer. </td></tr>
    <tr><td class="paramname">agent_name</td><td>Name of agent to look up. </td></tr>
    <tr><td class="paramname">Upload_pk</td><td>is no longer used. </td></tr>
    <tr><td class="paramname">rev</td><td>Agent revision, if given this is the exact revision of the agent being requested. </td></tr>
    <tr><td class="paramname">agent_desc</td><td>Description of the agent. Used to write a new agent record in the case where no enabled agent records exist for this agent_name. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success return agent_pk. On sql failure, return 0, and the error will be written to stdout. </dd></dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000016">Todo:</a></b></dt><dd>This function is not checking if the agent is enabled. And it is not setting agent version when an agent record is inserted. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html#l00024">24</a> of file <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html">standalone.c</a>.</p>

</div>
</div>
<a id="a9ca24d76f53fef2900d2e01e951b163e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ca24d76f53fef2900d2e01e951b163e">&#9670;&nbsp;</a></span>fo_scheduler_connect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fo_scheduler_connect </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PGconn **&#160;</td>
          <td class="paramname"><em>db_conn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Establish a connection between an agent and the scheduler. </p>
<p>Steps taken by this function:</p><ul>
<li>initialize memory associated with agent connection</li>
<li>send "SPAWNED" to the scheduler</li>
<li>receive the number of items between notifications</li>
<li>check the nfs mounts for the agent</li>
<li>set up the heartbeat()</li>
</ul>
<p>Making a call to this function should be the first thing that an agent does after parsing its command line arguments.</p>
<p>If the database connection passed is NULL, then this will not return a database connection, and will not check the agent's database record.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>pointer to the number of arguments passed to the agent </td></tr>
    <tr><td class="paramname">argv</td><td>the command line arguments for the agent </td></tr>
    <tr><td class="paramname">db_conn</td><td>pointer to the location for the database connection </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html#l00016">16</a> of file <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html">standalone.c</a>.</p>

</div>
</div>
<a id="a84472870e6d3d4dbc2fff252e58758c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84472870e6d3d4dbc2fff252e58758c6">&#9670;&nbsp;</a></span>fo_scheduler_current()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* fo_scheduler_current </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the last read string from the scheduler. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns the string buffer if it is valid. If it is not valid, return NULL. The buffer is not valid if the last received data from the scheduler was a command, rather than data to operate on. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html#l00019">19</a> of file <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html">standalone.c</a>.</p>

</div>
</div>
<a id="a027af6ae185a04e23206b53e45eea906"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a027af6ae185a04e23206b53e45eea906">&#9670;&nbsp;</a></span>fo_scheduler_disconnect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fo_scheduler_disconnect </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>retcode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disconnect the scheduler connection. </p>
<p>Making a call to this function should be the last thing that an agent does before exiting. Any error reporting to stdout or stderr will not work after this function has finished execution. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">retcode</td><td>Return code to the scheduler </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html#l00017">17</a> of file <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html">standalone.c</a>.</p>

</div>
</div>
<a id="a474b58f0fbf471b123c9fe7554d43081"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a474b58f0fbf471b123c9fe7554d43081">&#9670;&nbsp;</a></span>fo_scheduler_get_special()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fo_scheduler_get_special </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>option</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets if a particular special attribute is set in the scheduler. </p>
<p>Possible Options:</p><ul>
<li><code>SPECIAL_NOKILL</code> : the agent will not be killed if it stops updating status</li>
<li><code>SPECIAL_EXCLUSIVE</code>: the agent cannot run simultaneously with any other agent</li>
<li><code>SPECIAL_NOEMAIL</code> : the scheduler will not send notification emails for this agent</li>
<li><code>SPECIAL_LOCAL</code> : the agent is required to run on the same machine as the scheduler</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">option</td><td>the relevant option to the get the value of </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>if the value of the special option was true </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html#l00022">22</a> of file <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html">standalone.c</a>.</p>

</div>
</div>
<a id="a08ef13f3d2603f356d750e48f64391c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08ef13f3d2603f356d750e48f64391c1">&#9670;&nbsp;</a></span>fo_scheduler_heart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fo_scheduler_heart </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function must be called by agents to let the scheduler know they are alive and how many items they have processed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>This is the number of itmes processed since the last call to <a class="el" href="../../de/d32/libfossscheduler_8c.html#a08ef13f3d2603f356d750e48f64391c1" title="This function must be called by agents to let the scheduler know they are alive and how many items th...">fo_scheduler_heart()</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html#l00015">15</a> of file <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html">standalone.c</a>.</p>

</div>
</div>
<a id="a924ca6e02c2bda5adadb81b14331f78e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a924ca6e02c2bda5adadb81b14331f78e">&#9670;&nbsp;</a></span>fo_scheduler_next()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* fo_scheduler_next </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the next data to process from the scheduler. </p>
<p>It is the job of the agent to decide how this string is interpreted.</p>
<p>Steps taken by this function:</p><ul>
<li>get the next line from the scheduler<ul>
<li>if the scheduler has paused this agent this will block till unpaused</li>
</ul>
</li>
<li>check for "CLOSE" from scheduler, return NULL if received</li>
<li>check for "VERBOSE" from scheduler<ul>
<li>if this is received turn the verbose flag to whatever is specified</li>
<li>a new line must be received, perform same task (i.e. recursive call)</li>
</ul>
</li>
<li>check for "END" from scheduler, if received print OK and recurse<ul>
<li>this is used to simplify communications within the scheduler</li>
</ul>
</li>
<li>return whatever has been received</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>char* for the next thing to analyze, NULL if there is nothing left in this job, in which case the agent should close </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html#l00018">18</a> of file <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html">standalone.c</a>.</p>

</div>
</div>
<a id="a21b9be21d7535441d09ab0aef5fb89b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21b9be21d7535441d09ab0aef5fb89b5">&#9670;&nbsp;</a></span>fo_scheduler_set_special()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fo_scheduler_set_special </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>option</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets something special about the agent within the scheduler. </p>
<p>Possible Options: <code>SPECIAL_NOKILL</code>: instruct the scheduler to not kill the agent</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">option</td><td>the option to set </td></tr>
    <tr><td class="paramname">value</td><td>whether to set the option to true or false </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html#l00021">21</a> of file <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html">standalone.c</a>.</p>

</div>
</div>
<a id="a7dce115e43b8ba31bb503d2396fe0a81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dce115e43b8ba31bb503d2396fe0a81">&#9670;&nbsp;</a></span>fo_scheduler_userID()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fo_scheduler_userID </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the id of the user that created the job that the agent is running. </p>
<dl class="section return"><dt>Returns</dt><dd>the user id </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html#l00020">20</a> of file <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html">standalone.c</a>.</p>

</div>
</div>
<a id="a28e4f75930b41835ef84a047682e9b60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28e4f75930b41835ef84a047682e9b60">&#9670;&nbsp;</a></span>fo_sysconfig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* fo_sysconfig </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sectionname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>variablename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>gets a system configuration variable from the configuration data. </p>
<p>This function should be called after fo_scheduler_connect has been called. This is because the configuration data it not loaded until after that.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sectionname</td><td>the group of the variable </td></tr>
    <tr><td class="paramname">variablename</td><td>the name of the variable </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the value of the variable </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html#l00023">23</a> of file <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html">standalone.c</a>.</p>

</div>
</div>
<a id="a8ca4c2bd4fd5dda094104e218f6a5385"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ca4c2bd4fd5dda094104e218f6a5385">&#9670;&nbsp;</a></span>fo_tableExists()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fo_tableExists </td>
          <td>(</td>
          <td class="paramtype">PGconn *&#160;</td>
          <td class="paramname"><em>pgConn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tableName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if table exists. Note, this assumes the database name is 'fossology'. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pgConn</td><td>database connection </td></tr>
    <tr><td class="paramname">tableName</td><td>The table in question</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if table exists, 0 on error (which is logged) or if table does not exist. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html#l00030">30</a> of file <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html">standalone.c</a>.</p>

</div>
</div>
<a id="a413e71b8411ff5ceb47083a881c6f0e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a413e71b8411ff5ceb47083a881c6f0e4">&#9670;&nbsp;</a></span>fo_WriteARS()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fo_WriteARS </td>
          <td>(</td>
          <td class="paramtype">PGconn *&#160;</td>
          <td class="paramname"><em>pgConn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ars_pk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>upload_pk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>agent_pk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tableName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>ars_status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ars_success</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write ars record. </p>
<p>If the ars table does not exist, one is created by inheriting the ars_master table. The new table is called {tableName}. For example, "unpack_ars". If ars_pk is zero a new ars record will be created. Otherwise, it is updated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pgConn</td><td>Database connection object pointer. </td></tr>
    <tr><td class="paramname">ars_pk</td><td>If zero, a new record will be created. </td></tr>
    <tr><td class="paramname">upload_pk</td><td>ID of the upload </td></tr>
    <tr><td class="paramname">agent_pk</td><td>Agents should get this from <a class="el" href="../../d0/da5/libfossagent_8c.html#ae4c3021cfd19bf680dd99c2691add13e" title="Get the latest enabled agent key (agent_pk) from the database.">fo_GetAgentKey()</a> </td></tr>
    <tr><td class="paramname">tableName</td><td>ars table name </td></tr>
    <tr><td class="paramname">ars_status</td><td>Status to update ars_status. May be null. </td></tr>
    <tr><td class="paramname">ars_success</td><td>Automatically set to false if ars_pk is zero.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success write the ars record and return the ars_pk. On sql failure, return 0, and the error will be written to stdout. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html#l00025">25</a> of file <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html">standalone.c</a>.</p>

</div>
</div>
<a id="afd1e8c632ba9a7211526fe7d042dd161"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd1e8c632ba9a7211526fe7d042dd161">&#9670;&nbsp;</a></span>getSelectedPFiles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PGresult* getSelectedPFiles </td>
          <td>(</td>
          <td class="paramtype">PGconn *&#160;</td>
          <td class="paramname"><em>pgConn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>uploadPk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>agentPk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ignoreFilesWithMimeType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the upload_pk, agent_pk and ignoreFilesWithMimeType to get all the file Ids for nomos. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pgConn</td><td>Database connection object pointer. </td></tr>
    <tr><td class="paramname">upload_pk</td><td>uploadPk </td></tr>
    <tr><td class="paramname">agent_pk</td><td>agentPk </td></tr>
    <tr><td class="paramname">ignoreFilesWithMimeType</td><td>To ignore Files With MimeType</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the result, the list of pfiles, require to be scan by nomos. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Caller must free the (non-null) returned value. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html#l00039">39</a> of file <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html">standalone.c</a>.</p>

</div>
</div>
<a id="ab7c95c3ec301878f657c5667c154fe54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7c95c3ec301878f657c5667c154fe54">&#9670;&nbsp;</a></span>GetUploadPerm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GetUploadPerm </td>
          <td>(</td>
          <td class="paramtype">PGconn *&#160;</td>
          <td class="paramname"><em>pgConn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>UploadPk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>user_pk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get users permission to this upload. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pgConn</td><td>Database connection object pointer. </td></tr>
    <tr><td class="paramname">upload_pk</td><td>Upload ID </td></tr>
    <tr><td class="paramname">user_pk</td><td>User ID</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>permission (PERM_) this user has for UploadPk </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html#l00032">32</a> of file <a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c_source.html">standalone.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_261d628ce2f93f45eb056ee2de99033c.html">nomos</a></li><li class="navelem"><a class="el" href="../../dir_3a3431fcc62b57407e0205bfc1203ee7.html">agent</a></li><li class="navelem"><a class="el" href="../../dc/d9c/nomos_2agent_2standalone_8c.html">standalone.c</a></li>
    <li class="footer">Generated on Wed Oct 29 2025 10:31:31 for FOSSology by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
